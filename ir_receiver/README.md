# M5StickC-Plus 红外信号接收器

这是一个基于 M5StickC-Plus 的红外信号接收和解码器项目。可以用来识别各种遥控器的信号类型和编码，对开发红外控制项目很有帮助。

## 硬件要求

- M5StickC-Plus
- 红外接收模块（如 VS1838B, TSOP38238 等）
- 连接线

## 硬件连接

红外接收模块与 M5StickC-Plus 的连接方式：
- 信号引脚 (OUT) -> G26
- 电源引脚 (VCC) -> 3.3V
- 地线 (GND) -> GND

## 依赖库

- M5StickCPlus
- IRremoteESP8266

## 功能特点

- 实时接收和解码红外信号
- 显示信号详细信息：
  - 时间戳
  - 协议类型
  - 接收到的代码（十六进制）
  - 数据位数
  - 原始数据长度（仅限未知协议）
- 支持多种红外协议
- 大容量缓冲区，可接收空调等复杂信号
- 按键清屏功能

## 安装说明

1. 安装 Arduino IDE
2. 安装必要的库：
   - 在 Arduino IDE 中打开库管理器（工具 > 管理库）
   - 搜索并安装 "M5StickC-Plus"
   - 搜索并安装 "IRremoteESP8266"
3. 选择正确的开发板：
   - 开发板："M5Stick-C"
   - 上传速度：115200

## 使用方法

1. 上电后，屏幕显示 "IR Receiver Ready"
2. 将遥控器对准红外接收模块
3. 按下遥控器按键，屏幕将显示接收到的信号信息
4. 按下 M5StickC-Plus 的按钮 A 可以清除显示内容

## 显示信息说明

- Time: 接收到信号的时间戳
- Protocol: 识别出的红外协议类型
- Code: 接收到的编码（十六进制格式）
- Bits: 接收到的数据位数
- Raw Length: 原始数据长度（仅对未知协议显示）

## 常见问题解决

1. 无法接收信号：
   - 检查接线是否正确
   - 确认遥控器电池电量
   - 调整遥控器与接收器的距离和角度

2. 信号识别不准确：
   - 保持环境光线适中，避免强光干扰
   - 确保接收器与遥控器之间没有遮挡
   - 尝试多次按键以获得稳定结果

## 开发建议

1. 记录下需要的遥控器信号数据
2. 注意区分不同按键的编码
3. 对于空调等复杂设备，建议保存完整的原始数据

## 技术参数

- 接收引脚：G26
- 缓冲区大小：1024 字节
- 超时时间：50ms
- 最小未知信号长度：12

## 未来计划

- [ ] 添加信号数据保存功能
- [ ] 支持更多红外协议
- [ ] 添加信号波形显示
- [ ] 添加 WiFi 数据传输功能

## 参考资料

- [M5StickC-Plus 文档](https://docs.m5stack.com/en/core/m5stickc_plus)
- [IRremoteESP8266 库文档](https://github.com/crankyoldgit/IRremoteESP8266)
- [红外通信协议说明](https://github.com/crankyoldgit/IRremoteESP8266/wiki)

## 许可证

MIT License

## 作者

[您的名字]

# 格力空调红外信号解码器

## 项目简介

这是一个专门用于解码格力空调红外信号的 Python 工具，支持详细的信号解析和协议识别。

## 功能特点

- 精确的 LSB（最低有效位）解码
- 自动识别并跳过连接码
- 块分隔符（B010）自动处理
- 详细的红外信号解析
- 支持多种空调控制参数解析

## 协议解析字段

解码器可以提取以下关键信息：

- 工作模式（制冷/制热/送风等）
- 电源开关状态
- 风速设置
- 温度设置
- 自动摆风状态
- 睡眠模式
- 强力模式
- 灯光控制
- 垂直/水平摆风
- 体感功能
- WiFi状态
- 节能模式

## 信号特征

- 起始码：~9000us 高电平，~4500us 低电平
- 数据位编码：
  - 1: ~600us 高电平，~1600us 低电平
  - 0: ~600us 高电平，~500us 低电平
- 块分隔符：B010（在第32位之后）
- 连接码：~600us 高电平，~20000us 低电平

## 使用方法

1. 运行解码器：
```bash
python gree_ir_decoder.py
```

2. 输入原始红外信号数据（逗号分隔）：
```
请输入原始红外信号数据（逗号分隔）:
9000,4500,600,1600,600,500...
```

## 输出示例

```
数据解析 (每行: 二进制[LSB] -> 十六进制):
--------------------------------------------------
Binary(LSB)      Hex
--------------------------------------------------
10101010  ->  0xAA
00110011  ->  0x33
...
--------------------------------------------------

协议解析结果:
--------------------------------------------------
模式.................. 制冷
电源.................. 开
风速.................. 自动
温度.................. 25°C
强力模式.............. 关
灯光.................. 开
...
--------------------------------------------------
```

## 输入数据要求

- 数据为逗号分隔的数值
- 每个数值代表时间间隔（微秒）
- 奇数位置：高电平持续时间
- 偶数位置：低电平持续时间

## 注意事项

1. 确保输入完整的信号序列
2. 程序自动处理连接码
3. 使用 LSB 解码方式
4. 支持多种空调控制参数解析

## 依赖

- Python 3.6+
- 无需额外第三方库

## 参考资料

- [IRremoteESP8266 库](https://github.com/crankyoldgit/IRremoteESP8266)
- 格力空调红外协议规范

## 许可证

MIT License

## Git 版本控制最佳实践

### 仓库初始化

```bash
# 创建新仓库
git init

# 添加所有文件
git add .

# 提交初始版本
git commit -m "初始化项目：格力空调红外信号解码器"
```

### 分支管理策略

```bash
# 创建开发分支
git branch develop
git checkout develop

# 功能分支工作流
git checkout -b feature/protocol-enhancement
# 进行功能开发
git add .
git commit -m "增强协议解析功能"

# 合并功能分支
git checkout develop
git merge feature/protocol-enhancement
```

### 版本标签管理

```bash
# 添加版本标签
git tag -a v1.0.0 -m "第一个稳定版本"

# 推送标签到远程
git push origin v1.0.0
```

### 远程仓库操作

```bash
# 添加远程仓库
git remote add origin https://github.com/yourusername/gree-ir-decoder.git

# 推送代码
git push -u origin main
git push -u origin develop
```

### 忽略文件

创建 `.gitignore` 文件：

```gitignore
# Python 缓存文件
__pycache__/
*.py[cod]

# 虚拟环境
venv/
.env/

# IDE配置
.vscode/
.idea/

# 日志文件
*.log
```

### 提交规范

- `feat:` 新功能
- `fix:` 修复问题
- `docs:` 文档更新
- `style:` 代码格式
- `refactor:` 重构
- `test:` 测试
- `chore:` 构建过程或辅助工具变动

### 推荐工作流

1. `main`：稳定发布分支
2. `develop`：开发集成分支
3. `feature/*`：功能开发分支
4. `hotfix/*`：紧急修复分支

## 持续集成建议

- 使用 GitHub Actions
- 配置自动化测试
- 代码质量检查 